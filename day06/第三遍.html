<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script>
        // catch

        // function getOne() {
        //     return new Promise(function (resolve, reject) {
        //         reject('我是one报错')
        //     })
        // }

        // function getTwo() {
        //     return new Promise(function (resolve, reject) {
        //         reject('我是two报错')
        //     })
        // }

        // function getThree() {
        //     return new Promise(function (resolve, reject) {
        //         reject('我是three报错')
        //     })
        // }

        // getOne().then(res => {
        //     console.log(res.toString());
        //     return res.toString()

        // }).catch(err => {
        //     console.log(err,'111');
        // })
        //     .then((data) => {
        //         // console.log(data, '38');
        //         let result = getTwo().then(res => res.toString())
        //         return result + data;
        //     }).catch(err => {
        //         console.log(err,'222');
        //     })
        //     .then((data1) => {
        //         // console.log(data1, '42');
        //         getThree().then(res => {
        //             // console.log(res.toString());
        //         })
        //     }).catch(err => {
        //         console.log(err,'333');
        //     })
    </script>
    <script>
        // all

    </script>
    <script>
        // race

        // const p1 = new Promise((resolve, reject) => {
        //     setTimeout(() => {
        //         resolve(111111)
        //     }, 600)
        // })
        // const p2 = new Promise((resolve, reject) => {
        //     setTimeout(() => {
        //         resolve(222222)
        //     }, 500)
        // })

        // const p3 = new Promise((resolve, reject) => {
        //     setTimeout(() => {
        //         resolve(333333)
        //     }, 1000)
        // })

        // // race 竞技 竞赛
        // // 只要有一个Promise变成fulilled 状态，那么就结束
        // Promise.race([p1, p2, p3])
        //     .then(res => {
        //         console.log(res);
        //     }).catch((err) => {
        //         console.log(err);
        //     })
    </script>


    <script>
        // finally

        // function p(){
        //     return new Promise((resolve,reject)=>{
        //         resolve('第四组邓林柯')
        //     })
        // }

        // p().then((res) => {
        //     console.log(res);
        // }).catch((err) => {
        //     console.log(err);
        // }).finally(() => {
        //     console.log('lhe');
        // });
    </script>

    <script>
        // async await


        // function timeout() {
        //     return 'hello'
        // }
        // async function aaa() {
        //     let res = await timeout()
        //     console.log(res);
        // }
        // aaa()



        // function fn1(){
        //     return 10
        // }
        // function fn2(num){
        //     return 10 + num
        // }
        // function fn3(num){
        //     return 10 + num
        // }
        // function fn4(num){
        //     return 10 + num
        // }
        // function fn5(num){
        //     return 10 + num
        // }

        // async function fn6(){
        //     let res = await fn1()
        //     res = await fn2(res)
        //     res = await fn3(res)
        //     res = await fn4(res)
        //     res = await fn5(res)
        //     console.log(res);
        // }
        // fn6()


    </script>

    <script>
        // let aaa = '1111'
        // let bbb = '2222'
        // let ccc = '3333'
        // function getOne() {
        //     return new Promise((resolve, reject) => {
        //         setTimeout(() => {
        //             resolve(aaa)
        //         })
        //     })
        // }
        // async function getTwo() {
        //     console.log('1234');
        //     let result = await getOne()
        //     console.log(result);
        // }
        // getTwo()

    </script>

    <script>
        // Map

        // // 声明一个map函数
        // const map = new Map()

        // // // set一个属性
        // map.set('name', '小蓝')
        // console.log(map);

        // // // 如何set一个方法
        // map.set('change', function () {
        //     console.log('hhhhhhh');
        // })
        // console.log(map);

        // let key = {
        //     num: '1234'
        // }
        // map.set(key, ['1', '2', '3', '4'])
        // console.log(map);

        // // // 删除期中一个key
        // map.delete('name')
        // console.log(map);

        // // 判断当前的键是否存在map中
        // console.log(map.has(key));

        // // 获取一个map
        // console.log(map.get(key));

        // // 判断长度
        // console.log(map.size);

        // // 遍历
        // for (let key of map) {
        //     console.log(key);
        // }

        // // 清空
        // map.clear()
        // console.log(map);
    </script>

    <script>
        // Set
        // // 新建一个set数组
        // const set = new Set()

        // // 添加元素
        // set.add('1')
        // set.add('2')
        // set.add('3')
        // set.add('4')
        // console.log(set);

        // // 删除
        // console.log(set.delete('1'));

        // // 检测是否存在这个值
        // console.log(set.has('2'));

        // // 循环遍历
        // for (let key of set) {
        //     console.log(key);
        // }

        // // 获取长度
        // console.log(set.size);

        // // 去重
        // let aaa = [1, 2, 2, 2, 2, 3, 4, 4, 4, 4, 5,]
        // let sun = new Set(aaa)
        // console.log(sun);

        // // 变数组
        // let b = [...sun]
        // console.log(b);

        // let c = Array.from(sun)
        // console.log(c);


    </script>
    <script>
        let p1 = new Promise((resolve, reject) => {
            resolve('成功了')
        })

        let p2 = new Promise((resolve, reject) => {
            resolve('success')
        })

        let p3 = Promise.reject('失败')

        Promise.all([p1, p2]).then((result) => {
            console.log(result)               //['成功了', 'success']
        }).catch((error) => {
            console.log(error)
        })

        Promise.all([p1, p3, p2]).then((result) => {
            console.log(result)
        }).catch((error) => {
            console.log(error)      // 失败了，打出 '失败'
        })
    </script>
</body>

</html>